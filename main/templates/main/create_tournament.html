{% extends 'main/base.html' %}

{% block title %}
    Создать турнир
{% endblock %}

{% block style %}
    .label-club{
    display: inline-block;
    width: 30px;
    text-align: left;
    }
{% endblock %}

{% load crispy_forms_tags %}

{% block content %}
    <h3 class="mt-3 text-center">Создать турнир</h3>

    <hr>

    {% if user.is_authenticated %}
        {% load static %}
        <script src="{% static 'add_clubs.js' %}"></script>

        {% if choose %}
            <div class="container">
                <div class="row">
                    <div class="col d-flex justify-content-center">
                        <a href="/create-tournament/L"><img src="{% static 'league.png' %}" class="img-thumbnail"
                                                            width="300" height="300" alt="League"></a>

                        <a href="/create-tournament/P"><img src="{% static 'playoff.png' %}" class="img-thumbnail"
                                                            width="300" height="300" alt="Playoff"></a>
                    </div>
                </div>
            </div>
        {% else %}
            <form method="post" class="form-group" onsubmit="return check_unique()">
                {% csrf_token %}
                <div class="container mt-4">
                    <div class="row">
                        <div class="col text-center ps-5 mb-2">
                            <h4>Основные параметры</h4>
                            {{ form|crispy }}
                        </div>

                        <div class="col text-center">
                            {% if type == "L" %}
                                <h4>Приоритет распределения в таблице</h4>
                                <br>
                                <div class="d-flex justify-content-center mt-1">
                                    <select class="form-select form-select-sm" style="width:35%;" disabled>
                                        <option selected>Очки</option>
                                    </select>
                                    <br>
                                </div>
                                <div class="d-flex justify-content-center mt-1">
                                    <select class="form-select form-select-sm" style="width:35%;" name="select_1">
                                        <option value="0">- - -</option>
                                        <option value="GD" selected>Разница голов</option>
                                        <option value="GF">Забитые</option>
                                        <option value="GA">Пропущенные</option>
                                        <option value="W">Количество побед</option>
                                        <option value="L">Количество поражений</option>
                                        <option value="HTH">Личные встречи</option>
                                    </select>
                                    <br>
                                </div>

                                <div class="d-flex justify-content-center mt-1">
                                    <select class="form-select form-select-sm" style="width:35%;" name="select_2">
                                        <option value="0">------</option>
                                        <option value="GD">Разница голов</option>
                                        <option value="GF" selected>Забитые</option>
                                        <option value="GA">Пропущенные</option>
                                        <option value="W">Количество побед</option>
                                        <option value="L">Количество поражений</option>
                                        <option value="HTH">Личные встречи</option>
                                    </select>
                                    <br>
                                </div>

                                <div class="d-flex justify-content-center mt-1">
                                    <select class="form-select form-select-sm" style="width:35%;" name="select_3">
                                        <option value="0">------</option>
                                        <option value="GD" >Разница голов</option>
                                        <option value="GF">Забитые</option>
                                        <option value="GA" selected>Пропущенные</option>
                                        <option value="W">Количество побед</option>
                                        <option value="L">Количество поражений</option>
                                        <option value="HTH">Личные встречи</option>
                                    </select>
                                    <br>
                                </div>

                                <div class="d-flex justify-content-center mt-1">
                                    <select class="form-select form-select-sm" style="width:35%;" name="select_4">
                                        <option value="0">------</option>
                                        <option value="GD" >Разница голов</option>
                                        <option value="GF">Забитые</option>
                                        <option value="GA">Пропущенные</option>
                                        <option value="W" selected>Количество побед</option>
                                        <option value="L">Количество поражений</option>
                                        <option value="HTH">Личные встречи</option>
                                    </select><br>
                                </div>

                                <div class="d-flex justify-content-center mt-1">
                                    <select class="form-select form-select-sm" style="width:35%;" name="select_5">
                                        <option value="0">------</option>
                                        <option value="GD" >Разница голов</option>
                                        <option value="GF">Забитые</option>
                                        <option value="GA">Пропущенные</option>
                                        <option value="W">Количество побед</option>
                                        <option value="L" selected>Количество поражений</option>
                                        <option value="HTH">Личные встречи</option>
                                    </select><br>
                                </div>

                                <div class="d-flex justify-content-center mt-1">
                                    <select class="form-select form-select-sm" style="width:35%;" name="select_6">
                                        <option value="0">------</option>
                                        <option value="GD" >Разница голов</option>
                                        <option value="GF">Забитые</option>
                                        <option value="GA">Пропущенные</option>
                                        <option value="W">Количество побед</option>
                                        <option value="L">Количество поражений</option>
                                        <option value="HTH" selected>Личные встречи</option>
                                    </select><br>
                                </div>

                            {% else %}
                                    <h4 class="text-muted">Приоритет распределения в таблице</h4>
                                     <br>
                                    <div class="d-flex justify-content-center mt-1">
                                        <select class="form-select form-select-sm" style="width:35%;" disabled>
                                            <option selected>Очки</option>
                                        </select>
                                        <br>
                                    </div>

                                    <div class="d-flex justify-content-center mt-1">
                                        <select class="form-select form-select-sm" style="width:35%;" disabled>
                                            <option selected>Разница голов</option>
                                        </select>
                                        <br>
                                    </div>

                                    <div class="d-flex justify-content-center mt-1">
                                        <select class="form-select form-select-sm" style="width:35%;" disabled>
                                            <option selected>Забитые</option>
                                        </select>
                                        <br>
                                    </div>

                                    <div class="d-flex justify-content-center mt-1">
                                        <select class="form-select form-select-sm" style="width:35%;" disabled>
                                            <option selected>Пропущенные</option>
                                        </select>
                                        <br>
                                    </div>

                                    <div class="d-flex justify-content-center mt-1">
                                        <select class="form-select form-select-sm" style="width:35%;" disabled>
                                            <option selected>Количество побед</option>
                                        </select>
                                        <br>
                                    </div>

                                    <div class="d-flex justify-content-center mt-1">
                                        <select class="form-select form-select-sm" style="width:35%;" disabled>
                                            <option selected>Количество поражений</option>
                                        </select>
                                        <br>
                                    </div>

                                    <div class="d-flex justify-content-center mt-1">
                                        <select class="form-select form-select-sm" style="width:35%;" disabled>
                                            <option selected>Личные встречи</option>
                                        </select>
                                        <br>
                                    </div>
                                {% endif %}
                        </div>
                    </div>


                    <div class="row">
                        <div class="col-sm text-center">
                        <button type="submit" class="btn btn-success" style="width: 30%;">Далее...</button>
                    </div>

                        <div class="col-sm">
                    </div>
                    </div>
                    <div class="row">
                        <div class="col d-flex justify-content-center form-check">
                            <input class="form-check-input" id="shuffle" type="checkbox" name="shuffle" value="1">
                            <label class="form-check-label" for="shuffle">Перемешать команды</label>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col text-center mt-2 mb-2">
                            <h5>Названия команд:</h5>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col d-flex justify-content-center">
                            <div id="add-clubs">
                            </div>

                        </div>

                    </div>

                </div>

            </form>

            <script>
                add_clubs()
            </script>
        {% endif %}

    {% else %}
        <p>Пожалуйста, <a href="/login">войдите в свой аккаунт</a> или <a href="/register">зарегистрируйтесь</a></p>
    {% endif %}

{% endblock %}